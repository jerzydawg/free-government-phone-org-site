---
/**
 * TextLogo - Self-contained text-based logo component
 * No external APIs - pure CSS for SEO-safe logos across 1K+ sites
 * 
 * Usage:
 * <TextLogo size="md" variant="gradient" />
 */
import { getDesignDNA, getSiteName } from '../lib/site-config';

interface Props {
  size?: 'xs' | 'sm' | 'md' | 'lg' | 'xl';
  variant?: 'gradient' | 'solid' | 'outline' | 'glow' | 'shadow';
  class?: string;
}

const { 
  size = 'md', 
  variant = 'gradient',
  class: className = ''
} = Astro.props;

const designDNA = getDesignDNA();
const siteName = getSiteName().toUpperCase();
const readablePrimaryColor = getReadableTextColor(designDNA.colors.primary);
const readableSecondaryColor = getReadableTextColor(designDNA.colors.secondary);
const readableAccentColor = getReadableTextColor(designDNA.colors.accent);

// Size configurations
const sizes = {
  xs: { text: 'text-sm', tracking: 'tracking-wide' },
  sm: { text: 'text-lg', tracking: 'tracking-wide' },
  md: { text: 'text-2xl', tracking: 'tracking-wider' },
  lg: { text: 'text-3xl', tracking: 'tracking-wider' },
  xl: { text: 'text-4xl', tracking: 'tracking-widest' }
};

const sizeConfig = sizes[size];

// Variant styles - all designed to POP
const variants = {
  gradient: {
    textStyle: `background: linear-gradient(135deg, ${readablePrimaryColor} 0%, ${readableAccentColor} 50%, ${readableSecondaryColor} 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;`,
    extraClass: 'drop-shadow-sm'
  },
  solid: {
    textStyle: `color: ${readablePrimaryColor} !important;`,
    extraClass: 'drop-shadow-md'
  },
  outline: {
    textStyle: `-webkit-text-stroke: 2px ${readablePrimaryColor}; color: transparent;`,
    extraClass: ''
  },
  glow: {
    textStyle: `color: ${readablePrimaryColor} !important; text-shadow: 0 0 10px ${readablePrimaryColor}40, 0 0 20px ${readablePrimaryColor}30, 0 0 30px ${readablePrimaryColor}20;`,
    extraClass: ''
  },
  shadow: {
    textStyle: `color: ${readablePrimaryColor} !important; text-shadow: 3px 3px 0 ${readableSecondaryColor}, 6px 6px 0 ${readableAccentColor}30;`,
    extraClass: ''
  }
};

const variantConfig = variants[variant];
---

<a 
  href="/" 
  class:list={[
    'no-underline font-black whitespace-nowrap',
    sizeConfig.text,
    sizeConfig.tracking,
    variantConfig.extraClass,
    className
  ]}
  style={variantConfig.textStyle}
>
  {siteName}
</a>

<style>
  a {
    font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    letter-spacing: 0.05em;
    transition: all 0.2s ease;
  }
  a:hover {
    transform: scale(1.02);
    filter: brightness(1.1);
  }
</style>
