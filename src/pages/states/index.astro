---
import Layout from '../../layouts/Layout.astro';
import { getSiteName, getKeyword, getDomain, getSiteURL, getDesignDNA } from '../../lib/site-config';
import { getReadableTextColor } from '../../lib/color-utils';

const siteName = getSiteName();
const keyword = getKeyword();
const domain = getDomain();
const siteURL = getSiteURL();
const designDNA = getDesignDNA();
const readablePrimaryColor = getReadableTextColor(designDNA.colors.primary);

const title = `${keyword} by State - Find Local Programs | ${siteName}`;
const description = `Discover free government phone programs available in your state. Find local Lifeline providers, state-specific benefits, and application centers near you.`;

const states = [
  { name: 'Alabama', code: 'AL', slug: 'alabama' },
  { name: 'Alaska', code: 'AK', slug: 'alaska' },
  { name: 'Arizona', code: 'AZ', slug: 'arizona' },
  { name: 'Arkansas', code: 'AR', slug: 'arkansas' },
  { name: 'California', code: 'CA', slug: 'california' },
  { name: 'Colorado', code: 'CO', slug: 'colorado' },
  { name: 'Connecticut', code: 'CT', slug: 'connecticut' },
  { name: 'Delaware', code: 'DE', slug: 'delaware' },
  { name: 'Florida', code: 'FL', slug: 'florida' },
  { name: 'Georgia', code: 'GA', slug: 'georgia' },
  { name: 'Hawaii', code: 'HI', slug: 'hawaii' },
  { name: 'Idaho', code: 'ID', slug: 'idaho' },
  { name: 'Illinois', code: 'IL', slug: 'illinois' },
  { name: 'Indiana', code: 'IN', slug: 'indiana' },
  { name: 'Iowa', code: 'IA', slug: 'iowa' },
  { name: 'Kansas', code: 'KS', slug: 'kansas' },
  { name: 'Kentucky', code: 'KY', slug: 'kentucky' },
  { name: 'Louisiana', code: 'LA', slug: 'louisiana' },
  { name: 'Maine', code: 'ME', slug: 'maine' },
  { name: 'Maryland', code: 'MD', slug: 'maryland' },
  { name: 'Massachusetts', code: 'MA', slug: 'massachusetts' },
  { name: 'Michigan', code: 'MI', slug: 'michigan' },
  { name: 'Minnesota', code: 'MN', slug: 'minnesota' },
  { name: 'Mississippi', code: 'MS', slug: 'mississippi' },
  { name: 'Missouri', code: 'MO', slug: 'missouri' },
  { name: 'Montana', code: 'MT', slug: 'montana' },
  { name: 'Nebraska', code: 'NE', slug: 'nebraska' },
  { name: 'Nevada', code: 'NV', slug: 'nevada' },
  { name: 'New Hampshire', code: 'NH', slug: 'new-hampshire' },
  { name: 'New Jersey', code: 'NJ', slug: 'new-jersey' },
  { name: 'New Mexico', code: 'NM', slug: 'new-mexico' },
  { name: 'New York', code: 'NY', slug: 'new-york' },
  { name: 'North Carolina', code: 'NC', slug: 'north-carolina' },
  { name: 'North Dakota', code: 'ND', slug: 'north-dakota' },
  { name: 'Ohio', code: 'OH', slug: 'ohio' },
  { name: 'Oklahoma', code: 'OK', slug: 'oklahoma' },
  { name: 'Oregon', code: 'OR', slug: 'oregon' },
  { name: 'Pennsylvania', code: 'PA', slug: 'pennsylvania' },
  { name: 'Rhode Island', code: 'RI', slug: 'rhode-island' },
  { name: 'South Carolina', code: 'SC', slug: 'south-carolina' },
  { name: 'South Dakota', code: 'SD', slug: 'south-dakota' },
  { name: 'Tennessee', code: 'TN', slug: 'tennessee' },
  { name: 'Texas', code: 'TX', slug: 'texas' },
  { name: 'Utah', code: 'UT', slug: 'utah' },
  { name: 'Vermont', code: 'VT', slug: 'vermont' },
  { name: 'Virginia', code: 'VA', slug: 'virginia' },
  { name: 'Washington', code: 'WA', slug: 'washington' },
  { name: 'West Virginia', code: 'WV', slug: 'west-virginia' },
  { name: 'Wisconsin', code: 'WI', slug: 'wisconsin' },
  { name: 'Wyoming', code: 'WY', slug: 'wyoming' }
];

const jsonLd = {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "WebPage",
      "@id": `${siteURL}/states/`,
      "url": `${siteURL}/states/`,
      "name": title,
      "description": description,
      "isPartOf": {
        "@id": `${siteURL}/#website`
      },
      "breadcrumb": {
        "@id": `${siteURL}/states/#breadcrumb`
      },
      "inLanguage": "en-US",
      "potentialAction": {
        "@type": "ReadAction",
        "target": [`${siteURL}/states/`]
      }
    },
    {
      "@type": "BreadcrumbList",
      "@id": `${siteURL}/states/#breadcrumb`,
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": siteURL
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "By State"
        }
      ]
    },
    {
      "@type": "Article",
      "headline": "Locate Free Phone Programs Across All 50 States",
      "description": "Navigate our complete directory of state-specific free phone programs and find local providers offering Lifeline services in your area.",
      "author": {
        "@type": "Organization",
        "name": siteName
      },
      "publisher": {
        "@type": "Organization",
        "name": siteName
      },
      "datePublished": "2025-12-12",
      "dateModified": "2025-12-12",
      "mainEntityOfPage": `${siteURL}/states/`
    },
    {
      "@type": "FAQPage",
      "mainEntity": [
        {
          "@type": "Question",
          "name": "Do free government phone programs vary between different states?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "While Lifeline is a national program with consistent core benefits, each state may have different participating providers and additional local assistance options. Some states offer enhanced programs or have specific application centers to help residents."
          }
        },
        {
          "@type": "Question",
          "name": "How do I find participating providers in my specific state?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Select your state from our directory to view all participating Lifeline providers operating in your area. Each state page includes provider contact information, service areas, and available phone options."
          }
        },
        {
          "@type": "Question",
          "name": "Can I use my free phone service if I move to another state?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Yes, your Lifeline service can typically transfer with you when moving between states. Contact your provider before relocating to ensure continued service and verify they operate in your new state."
          }
        },
        {
          "@type": "Question",
          "name": "Are there special state programs beyond federal Lifeline benefits?",
          "acceptedAnswer": {
            "@type": "Answer",
            "text": "Some states offer additional assistance programs or partner with local organizations to provide extra benefits. Check your state's specific page to learn about any enhanced programs or local resources available."
          }
        }
      ]
    }
  ]
};
---

<Layout title={title} description={description} jsonLd={jsonLd}>
  <main class="min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100">
    <!-- Breadcrumb -->
    <div class="bg-white border-b">
      <div class="container mx-auto px-4 py-3">
        <nav class="text-sm">
          <ol class="flex items-center space-x-2">
            <li><a href="/" class="hover:underline" style={`color: ${readablePrimaryColor} !important;`}>Home</a></li>
            <li class="text-gray-500">/</li>
            <li class="text-gray-700">By State</li>
          </ol>
        </nav>
      </div>
    </div>

    <!-- Hero Section -->
    <section class="py-12 md:py-16">
      <div class="container mx-auto px-4 text-center">
        <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6">
          Free Government Phone
        </h1>
        <p class="text-xl text-gray-700 mb-8 max-w-3xl mx-auto">
          Find free phone programs available in your state. Browse our complete directory of local providers and discover state-specific benefits.
        </p>
      </div>
    </section>

    <!-- States Grid -->
    <section class="py-12 bg-white">
      <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold text-center text-gray-900 mb-8">States Coverage</h2>
        <p class="text-center text-gray-700 mb-12 max-w-2xl mx-auto">
          Available in every state. Choose your location to get started.
        </p>
        
        <div class="grid grid-cols-4 sm:grid-cols-6 md:grid-cols-8 lg:grid-cols-10 xl:grid-cols-12 gap-3 mb-8">
          {states.map((state) => (
            <a 
              href={`/${state.code.toLowerCase()}/`}
              class="state-btn group flex flex-col items-center justify-center p-4 bg-white rounded-lg transition-all duration-200 shadow-sm hover:shadow-md border border-gray-200 hover:border-[var(--color-primary)]"
              title={`${keyword} in ${state.name}`}
            >
              <span class="font-bold text-lg group-hover:scale-110 transition-transform text-gray-900" style={`color: #111827 !important;`}>{state.code}</span>
            </a>
          ))}
        </div>
      </div>
    </section>
  </main>
</Layout>